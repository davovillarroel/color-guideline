{"version":3,"file":"ngex.js.map","sources":["ng://ngex/lib/ngex.config.ts","ng://ngex/lib/ngex.service.ts","ng://ngex/lib/ngex.module.ts"],"sourcesContent":["import { InjectionToken } from '@angular/core';\nimport { NgexStore } from './ngex.interface';\n \nexport const NgexServiceConfig = new InjectionToken<NgexStore[]>('NgexStore');","import { Injectable,Optional,Inject } from '@angular/core';\nimport { Observable,BehaviorSubject } from 'rxjs';\nimport { NgexServiceConfig } from './ngex.config';\nimport { NgexStore } from './ngex.interface';\n\n@Injectable({\nprovidedIn: 'root'\n})\n\n\nexport class Ngex {\n    private storex:any = {};\n    private actions:any = [];\n    private statepv:any = new BehaviorSubject<any>(this.storex);\n    private store:any = this.statepv.asObservable()\n    public state:any = this.store.subscribe((state:any) => {this.state = state});    \n\n    constructor(@Inject(NgexServiceConfig) private config: NgexStore) {\n        if (config) { \n            this.createStore(config.store);\n            this.createActions(config.actions);\n        }\n      }\n\n    private createStore(store:any){\n        this.storex = store;\n        this.statepv.next(this.storex);\n    }\n\n    private createActions(actions:Function){\n        this.actions = actions(this.storex);\n        this.statepv.next(this.storex);\n    }\n\n    public emit(type:string,val:any = null){\n        this.actions.find((a:any) => {\n            if(a.type === type){\n               return a.action(val);\n            }\n        })\n        this.statepv.next(this.storex);\n    }\n}","import {NgModule, ModuleWithProviders, Optional, SkipSelf} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {Ngex} from './ngex.service';\nimport {NgexServiceConfig} from './ngex.config'\nimport {NgexStore} from './ngex.interface';\n\n@NgModule({imports: [BrowserModule], declarations: [], exports: []})\n\nexport class NgexModule {\n\n  constructor(@Optional()@SkipSelf()parentModule : NgexModule) {\n    if (parentModule) {\n      throw new Error('NgexModule is already loaded. Import it in the AppModule only');\n    }\n  }\n\n  static forRoot(config : NgexStore) : ModuleWithProviders {\n    return {\n      ngModule: NgexModule,\n      providers: [\n        Ngex, {\n          provide: NgexServiceConfig,\n          useValue: config\n        }\n      ]\n    };\n  }\n}"],"names":[],"mappings":";;;;;;;;AAAA;AAGA,IAAa,iBAAiB,GAAG,IAAI,cAAc,CAAc,WAAW,CAAC;;;;;;ACH7E;IAiBI,cAA+C,MAAiB;QAAhE,iBAKG;QAL4C,WAAM,GAAN,MAAM,CAAW;sBAN3C,EAAE;uBACD,EAAE;uBACF,IAAI,eAAe,CAAM,IAAI,CAAC,MAAM,CAAC;qBACvC,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE;qBAC5B,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,UAAC,KAAS,IAAM,KAAI,CAAC,KAAK,GAAG,KAAK,CAAA,EAAC,CAAC;QAGxE,IAAI,MAAM,EAAE;YACR,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;YAC/B,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;SACtC;KACF;;;;;IAEK,0BAAW;;;;cAAC,KAAS;QACzB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;;IAG3B,4BAAa;;;;cAAC,OAAgB;QAClC,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QACpC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;;;;;IAG5B,mBAAI;;;;;cAAC,IAAW,EAAC,GAAc;QAAd,oBAAA,EAAA,UAAc;QAClC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,UAAC,CAAK;YACpB,IAAG,CAAC,CAAC,IAAI,KAAK,IAAI,EAAC;gBAChB,OAAO,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;aACvB;SACJ,CAAC,CAAA;QACF,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;;;gBAnCtC,UAAU,SAAC;oBACZ,UAAU,EAAE,MAAM;iBACjB;;;;gDAUgB,MAAM,SAAC,iBAAiB;;;eAjBzC;;;;;;;ACAA;IAUE,oBAAkC,YAAyB;QACzD,IAAI,YAAY,EAAE;YAChB,MAAM,IAAI,KAAK,CAAC,+DAA+D,CAAC,CAAC;SAClF;KACF;;;;;IAEM,kBAAO;;;;IAAd,UAAe,MAAkB;QAC/B,OAAO;YACL,QAAQ,EAAE,UAAU;YACpB,SAAS,EAAE;gBACT,IAAI,EAAE;oBACJ,OAAO,EAAE,iBAAiB;oBAC1B,QAAQ,EAAE,MAAM;iBACjB;aACF;SACF,CAAC;KACH;;gBApBF,QAAQ,SAAC,EAAC,OAAO,EAAE,CAAC,aAAa,CAAC,EAAE,YAAY,EAAE,EAAE,EAAE,OAAO,EAAE,EAAE,EAAC;;;;gBAIhB,UAAU,uBAA9C,QAAQ,YAAG,QAAQ;;qBAVlC;;;;;;;;;;;;;;;"}
